# üëÅÔ∏è –õ–æ–≥—ñ–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∞–∫–∞–Ω—Å—ñ–π

## üéØ **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏:**

1. **–¢–æ–π —Ö—Ç–æ —Å—Ç–≤–æ—Ä–∏–≤ –≤–∞–∫–∞–Ω—Å—ñ—é** ‚Üí –±–∞—á–∏—Ç—å –≤—Å—ñ —Å–≤–æ—ó –≤–∞–∫–∞–Ω—Å—ñ—ó (–≤ –±—É–¥—å-—è–∫–æ–º—É —Å—Ç–∞—Ç—É—Å—ñ)
2. **–í—Å—ñ —ñ–Ω—à—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** ‚Üí –±–∞—á–∞—Ç—å —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ –≤–∞–∫–∞–Ω—Å—ñ—ó

## üîß **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**

### 1. –ú–µ—Ç–æ–¥ `findAll` –≤ JobService
```typescript
async findAll(filters: JobFiltersDto, currentUserId?: string): Promise<JobListResponseDto> {
  // –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π, –ø–æ–∫–∞–∑—É—î–º–æ –π–æ–≥–æ –≤–∞–∫–∞–Ω—Å—ñ—ó –≤ –±—É–¥—å-—è–∫–æ–º—É —Å—Ç–∞—Ç—É—Å—ñ
  // –Ü–Ω–∞–∫—à–µ –ø–æ–∫–∞–∑—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ –≤–∞–∫–∞–Ω—Å—ñ—ó
  if (currentUserId) {
    queryBuilder.where('(job.status = :activeStatus OR job.createdByUserId = :currentUserId)', { 
      activeStatus: JobStatus.ACTIVE,
      currentUserId 
    });
  } else {
    queryBuilder.where('job.status = :status', { status: JobStatus.ACTIVE });
  }
}
```

### 2. –ú–µ—Ç–æ–¥ `getJobs` –≤ JobController
```typescript
// –ü–µ—Ä–µ–¥–∞—î–º–æ ID –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
const currentUserId = req.user?.id;
const result = await this.jobService.findAll(filters, currentUserId);
```

### 3. –ú–µ—Ç–æ–¥ `getMyJobs` –¥–ª—è —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—è
```typescript
// –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –≤–∞–∫–∞–Ω—Å—ñ–π —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—è (–≤–∫–ª—é—á–∞—é—á–∏ —á–µ—Ä–Ω–µ—Ç–∫–∏)
async getMyJobs(req: AuthRequest, res: Response): Promise<void>
```

## üìã **API Endpoints:**

### GET /api/jobs
- **–ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó** ‚Üí —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ –≤–∞–∫–∞–Ω—Å—ñ—ó
- **–ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é** ‚Üí –∞–∫—Ç–∏–≤–Ω—ñ + –≤–ª–∞—Å–Ω—ñ –≤–∞–∫–∞–Ω—Å—ñ—ó –≤ –±—É–¥—å-—è–∫–æ–º—É —Å—Ç–∞—Ç—É—Å—ñ

### GET /api/jobs/employer/my-jobs
- **–¢—ñ–ª—å–∫–∏ –¥–ª—è —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—ñ–≤** ‚Üí –≤—Å—ñ —ó—Ö –≤–∞–∫–∞–Ω—Å—ñ—ó (–≤–∫–ª—é—á–∞—é—á–∏ —á–µ—Ä–Ω–µ—Ç–∫–∏)

### PATCH /api/jobs/:id/publish
- **–ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –≤–∞–∫–∞–Ω—Å—ñ—ó** ‚Üí –∑–º—ñ–Ω–∞ —Å—Ç–∞—Ç—É—Å—É –∑ DRAFT –Ω–∞ ACTIVE

## üß™ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∞–∫–∞–Ω—Å—ñ—ó
```bash
POST /api/jobs
Authorization: Bearer <token>
{
  "title": "Test Job",
  "description": "Test description...",
  "type": "–ü–æ–≤–Ω–∞ –∑–∞–π–Ω—è—Ç—ñ—Å—Ç—å",
  "experienceLevel": "Junior"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∞–∫–∞–Ω—Å—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞ –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º `draft`

### 2. –ü–µ—Ä–µ–≥–ª—è–¥ –≤–∞–∫–∞–Ω—Å—ñ–π (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á)
```bash
GET /api/jobs
Authorization: Bearer <token>
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫–∞–∑—É—î –∞–∫—Ç–∏–≤–Ω—ñ + –≤–ª–∞—Å–Ω—ñ —á–µ—Ä–Ω–µ—Ç–∫–∏

### 3. –ü–µ—Ä–µ–≥–ª—è–¥ –≤–∞–∫–∞–Ω—Å—ñ–π (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π)
```bash
GET /api/jobs
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ –≤–∞–∫–∞–Ω—Å—ñ—ó

### 4. –ü–µ—Ä–µ–≥–ª—è–¥ –≤–ª–∞—Å–Ω–∏—Ö –≤–∞–∫–∞–Ω—Å—ñ–π
```bash
GET /api/jobs/employer/my-jobs
Authorization: Bearer <token>
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫–∞–∑—É—î –≤—Å—ñ –≤–ª–∞—Å–Ω—ñ –≤–∞–∫–∞–Ω—Å—ñ—ó (–≤–∫–ª—é—á–∞—é—á–∏ —á–µ—Ä–Ω–µ—Ç–∫–∏)

### 5. –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –≤–∞–∫–∞–Ω—Å—ñ—ó
```bash
PATCH /api/jobs/:id/publish
Authorization: Bearer <token>
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç—É—Å –∑–º—ñ–Ω–µ–Ω–æ –∑ `draft` –Ω–∞ `active`

## üîç **–õ–æ–≥—É–≤–∞–Ω–Ω—è:**

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∞–∫–∞–Ω—Å—ñ—ó:
```
üîç Creating job with data: {...}
üîç User companyId: null
üîç Final companyId for job: null
‚úÖ Job created successfully!
```

### –ü–æ—à—É–∫ –≤–∞–∫–∞–Ω—Å—ñ–π:
```
üîç Getting jobs for user: ca1e9a0e-a53d-414a-b93b-c5f8d50cf1ad
üîç Finding jobs with filters: { currentUserId: "...", showAllForUser: true, filters: {...} }
üîç Found jobs: { total: 5, page: 1, limit: 20, totalPages: 1, jobsCount: 5 }
```

### –ü–æ—à—É–∫ –≤–∞–∫–∞–Ω—Å—ñ–π —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—è:
```
üîç Getting all jobs for employer: ca1e9a0e-a53d-414a-b93b-c5f8d50cf1ad
üîç Finding jobs for employer: ca1e9a0e-a53d-414a-b93b-c5f8d50cf1ad with status filter: undefined
üîç Found jobs: 3 jobs for employer
  1. ID: uuid, Title: Node, Status: draft, Created: 2025-08-25T04:44:49.081Z
  2. ID: uuid, Title: Another Job, Status: active, Created: 2025-08-25T03:00:00.000Z
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–¢–µ–ø–µ—Ä:
- ‚úÖ **–†–æ–±–æ—Ç–æ–¥–∞–≤–µ—Ü—å –±–∞—á–∏—Ç—å** –≤—Å—ñ —Å–≤–æ—ó –≤–∞–∫–∞–Ω—Å—ñ—ó (—á–µ—Ä–Ω–µ—Ç–∫–∏ + –∞–∫—Ç–∏–≤–Ω—ñ)
- ‚úÖ **–Ü–Ω—à—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å** —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ñ –≤–∞–∫–∞–Ω—Å—ñ—ó
- ‚úÖ **–ß–µ—Ä–Ω–µ—Ç–∫–∏ –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å** –≤ –∑–∞–≥–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫
- ‚úÖ **–ú–æ–∂–Ω–∞ –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏** —á–µ—Ä–Ω–µ—Ç–∫–∏ –∑–º—ñ–Ω—é—é—á–∏ —Å—Ç–∞—Ç—É—Å

–õ–æ–≥—ñ–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∞–∫–∞–Ω—Å—ñ–π —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üéâ

